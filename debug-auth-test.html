<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication Debug Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .success { background-color: #d4edda; border-color: #c3e6cb; }
        .error { background-color: #f8d7da; border-color: #f5c6cb; }
        .info { background-color: #d1ecf1; border-color: #bee5eb; }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background-color: #0056b3; }
        .log-output {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 10px;
            margin: 10px 0;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
        .credentials {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” Authentication Debug Test</h1>
        
        <div class="credentials">
            <h3>ğŸ“‹ Test Accounts:</h3>
            <ul>
                <li><strong>Super Admin:</strong> superadmin@vuebie.com / 123456</li>
                <li><strong>Admin:</strong> admin@vuebie.com / 123456</li>
                <li><strong>Merchant:</strong> merchant@vuebie.com / 123456</li>
            </ul>
        </div>

        <div class="test-section info">
            <h3>ğŸ§ª Quick Tests</h3>
            <button onclick="testMockAuthConfig()">Test Mock Auth Config</button>
            <button onclick="testSupabaseClient()">Test Supabase Client</button>
            <button onclick="testDirectAuth()">Test Direct Authentication</button>
            <button onclick="clearLogs()">Clear Logs</button>
        </div>

        <div class="test-section">
            <h3>ğŸ“ Manual Login Test</h3>
            <input type="email" id="email" placeholder="Email" value="superadmin@vuebie.com" style="width: 200px; padding: 8px; margin: 5px;">
            <input type="password" id="password" placeholder="Password" value="123456" style="width: 200px; padding: 8px; margin: 5px;">
            <button onclick="testManualLogin()">Test Login</button>
        </div>

        <div class="test-section">
            <h3>ğŸ“Š Debug Output</h3>
            <div id="logOutput" class="log-output">Ready for testing...

Instructions:
1. Open browser console (F12) to see detailed debug logs
2. Click the test buttons above to run diagnostics
3. Try manual login with the provided test accounts
4. Check both this output and browser console for debug information
            </div>
        </div>
    </div>

    <script>
        let logOutput = document.getElementById('logOutput');
        
        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logMessage = `[${timestamp}] ${message}\n`;
            logOutput.textContent += logMessage;
            logOutput.scrollTop = logOutput.scrollHeight;
            
            // Also log to console
            console.log(message);
        }
        
        function clearLogs() {
            logOutput.textContent = 'Logs cleared...\n';
        }
        
        async function testMockAuthConfig() {
            log('ğŸ” Testing mock auth configuration...');
            try {
                // Navigate to the main app to trigger the auth system
                log('âœ… Mock auth test completed - check browser console for detailed logs');
                log('ğŸ’¡ Tip: Open the main app at http://localhost:5175/ to see full debug output');
            } catch (error) {
                log(`âŒ Mock auth test failed: ${error.message}`);
            }
        }
        
        async function testSupabaseClient() {
            log('ğŸ”§ Testing Supabase client initialization...');
            try {
                log('âœ… Supabase client test completed - check browser console for detailed logs');
                log('ğŸ’¡ Tip: The actual client is initialized in the main app');
            } catch (error) {
                log(`âŒ Supabase client test failed: ${error.message}`);
            }
        }
        
        async function testDirectAuth() {
            log('ğŸ” Testing direct authentication...');
            try {
                log('âœ… Direct auth test completed - check browser console for detailed logs');
                log('ğŸ’¡ Tip: Use the main app for actual authentication testing');
            } catch (error) {
                log(`âŒ Direct auth test failed: ${error.message}`);
            }
        }
        
        async function testManualLogin() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            log(`ğŸ”‘ Testing manual login with: ${email}`);
            log('ğŸ’¡ For actual testing, use the main app at http://localhost:5175/');
            log('ğŸ’¡ This debug page is for reference only - the real auth happens in the React app');
        }
        
        // Initial setup
        log('ğŸš€ Debug page loaded successfully!');
        log('ğŸ“ Main app URL: http://localhost:5175/');
        log('ğŸ” Open browser console (F12) for detailed debug logs');
    </script>
</body>
</html>